par(mfrow=c(1,2))
plot(x = 1:10, y = 1:10)
plot(x = 1:10, y = 1:10)
points(x = 1, y = 10)
lines(c(1,10,10,10))
par(mfrow=c(1,1))
lines(10, 10)
par(mfrow=c(1,2))
plot(x = 1:10, y = 1:10)
plot(x = 1:10, y = 1:10)
points(x = 1, y = 10)
lines(10, 10)
par(mfrow=c(1,1))
par(mfrow=c(1,2))
plot(x = 1:10, y = 1:10)
plot(x = 1:10, y = 1:10)
points(x = 1, y = 10)
lines(10, 10, 10, 10)
par(mfrow=c(1,2))
plot(x = 1:10, y = 1:10)
plot(x = 1:10, y = 1:10)
points(x = 1, y = 10)
lines(c(10, 10))
par(mfrow=c(1,1))
par(mar=c(3,3,3,3))
num=0 ; num1=0
plot(0,0 , xlim=c(0,21) , ylim=c(0.5,6.5), col="white" , yaxt="n" , ylab="" , xlab="")
#fill the graph
for (i in seq(1,20)){
points(i,1 , pch=i , cex=3)
points(i,2 , col=i , pch=16 , cex=3)
points(i,3 , col="black" , pch=16 , cex=i*0.25)
#lty
if(i %in% c(seq(1,18,3))){
num=num+1
points(c(i,i+2), c(4,4) , col="black" , lty=num , type="l" , lwd=2)
text(i+1.1 , 4.15 , num)
}
#type and lwd
if(i %in% c(seq(1,20,5))){
num1=num1+1
points(c(i,i+1,i+2,i+3), c(5,5,5,5) , col="black"  , type=c("p","l","b","o")[num1] , lwd=2)
text(i+1.1 , 5.2 , c("p","l","b","o")[num1] )
points(c(i,i+1,i+2,i+3), c(6,6,6,6) , col="black"  , type="l",  lwd=num1)
text(i+1.1 , 6.2 , num1 )
}
}
#add axis
axis(2, at = c(1,2,3,4,5,6), labels = c("pch" , "col" , "cex" , "lty", "type" , "lwd" ),
tick = TRUE, col = "black", las = 1, cex.axis = 0.8)
plot(1:10, axes = F) #Turn the axes off entirely
plot(1:10, xaxt=NA) #Turn off the x axis - disable y with yaxt=NA
plot(1:10, axes = F) #Turn the axes off entirely
plot(1:10, xaxt="n") #Turn off the x axis - disable y with yaxt=NA
par(mfrow=c(4,2))
plot(1:10, axes = F) #Turn the axes off entirely
plot(1:10, xaxt="n") #Turn off the x axis - disable y with yaxt=NA
par(mfrow=c(4,2))
plot(1:10)
plot(1:10, axes = F, main = "No axes")
plot(1:10, xaxt="n", main = "No x axis")
plot(1:10, main = "Standard, but created via separate layer")
axis(side = 1, at = 1:10, labels = 1:10, tick = T, line = 0)
par(mfrow=c(2,4))
plot(1:10)
plot(1:10, axes = F, main = "No axes")
plot(1:10, xaxt="n", main = "No x axis")
plot(1:10, main = "Standard, but created via separate layer")
axis(side = 1, at = 1:10, labels = 1:10, tick = T, line = 0)
par(mfrow=c(2,4))
plot(1:10)
plot(1:10, axes = F, main = "No axes")
plot(1:10, xaxt="n", main = "No x axis")
plot(1:10, main = "Standard, but created \nvia separate layer")
axis(side = 1, at = 1:10, labels = 1:10, tick = T, line = 0)
par(mfrow=c(2,4))
plot(1:10)
plot(1:10, axes = F, main = "No axes")
plot(1:10, xaxt="n", main = "No x axis")
plot(1:10, main = "Standard, but created \nvia separate layer")
axis(side = 1, at = 1:10, labels = 1:10, tick = T, line = 0)
plot(1:10, main = "Colors and shapes")
axis(side = 1, font = "bold", col = "blue", cex=4)
par("font")
par(mfrow=c(2,4))
plot(1:10)
plot(1:10, axes = F, main = "No axes")
plot(1:10, xaxt="n", main = "No x axis")
plot(1:10, main = "Standard, but created \nvia separate layer")
axis(side = 1, at = 1:10, labels = 1:10, tick = T, line = 0)
plot(1:10, main = "Colors and shapes")
axis(side = 1, font = 2, col = "blue", cex=4)
par(mfrow=c(2,4))
plot(1:10)
plot(1:10, axes = F, main = "No axes")
plot(1:10, xaxt="n", main = "No x axis")
plot(1:10, main = "Standard, but created \nvia separate layer")
axis(side = 1, at = 1:10, labels = 1:10, tick = T, line = 0)
plot(1:10, main = "Colors and shapes")
axis(side = 1, font = 2, col = "blue", cex=4)
par(mfrow=c(2,4))
plot(1:10)
plot(1:10, axes = F, main = "No axes")
plot(1:10, xaxt="n", main = "No x axis")
plot(1:10, main = "Standard, but created \nvia separate layer")
axis(side = 1, at = 1:10, labels = 1:10, tick = T, line = 0)
plot(1:10, main = "Colors and shapes", axes = F)
axis(side = 1, font = 2, col = "blue", cex=4)
axis(side = 2, font = 3, col = "red", cex=10)
par(mfrow=c(2,4))
plot(1:10)
plot(1:10, axes = F, main = "No axes")
plot(1:10, xaxt="n", main = "No x axis")
plot(1:10, main = "Standard, but created \nvia separate layer")
axis(side = 1, at = 1:10, labels = 1:10, tick = T, line = 0)
plot(1:10, main = "Colors and shapes", axes = F)
axis(side = 1, font = 2, col = "blue", cex.axis=4)
axis(side = 2, font = 3, col = "red")
plot(1:10, main = "")
plot(1:10, bty="l")
par(mfrow=c(2,4))
plot(1:10)
plot(1:10, axes = F, main = "No axes")
plot(1:10, xaxt="n", main = "No x axis")
plot(1:10, main = "Standard, but created \nvia separate layer")
axis(side = 1, at = 1:10, labels = 1:10, tick = T, line = 0)
plot(1:10, main = "Colors and shapes", axes = F)
axis(side = 1, font = 2, col = "blue", cex.axis=4)
axis(side = 2, font = 3, col = "red")
plot(1:10, bty="7")
knitr::opts_chunk$set(echo = TRUE)
LOBdata <- read.csv("~/Desktop/LOBset.csv")
LOBdata <- read.csv("~/Desktop/LOBsetPos.csv")
```{r loaddata, cache=T}
LOBdata <- read.csv("~/Desktop/LOBsetPos.csv")
head(LOBdata)
grep("H2O", names(LOBdata))
grep("Orbi", names(LOBdata))
names(LOBdata)
LOBdata <- read.csv("~/Desktop/LOBsetPos.csv")
#Which columns are the data in?
datacols <- 12:29
compoundcol <- 43
speciescol <- 37
classcol <- 36
rtcol <- 5
mzcol <- 2
simpleLOBdata <- LOBdata[c(36, 37, 43, 5, 2, 12:29),]
head(simpleLOBdata)
LOBdata[1,]
LOBdata[2,]
simpleLOBdata <- LOBdata[,c(36, 37, 43, 5, 2, 12:29)]
head(simpleLOBdata)
LOBdata <- read.csv("~/Desktop/LOBsetPos.csv")
#Which columns are the data in?
datacols <- 12:29
compoundcol <- 43
speciescol <- 37
classcol <- 36
rtcol <- 5
mzcol <- 2
simpleLOBdata <- LOBdata[,c(36, 37, 43, 5, 2, 12:29)]
head(simpleLOBdata)
names(simpleLOBdata) <- c("Lipid_Class", "Lipid_Species", "Lipid_Compound", "Retention_time", "M/Z ratio",
paste("Sample", 1:18))
simpleLOBdata
head(simpleLOBdata)
names(LOBdata)
justSamples <- simpleLOBdata[,6:25]
justSamples <- simpleLOBdata[,6:24]
justSamples <- simpleLOBdata[,6:23]
head(justSamples)
tJustSamples <- t(justSamples)
boxplot(tJustSamples)
tJustSamples <- log(t(justSamples))
boxplot(tJustSamples)
tJustSamples <- log(t(head(justSamples)))
boxplot(tJustSamples)
tJustSamples <- log(t(head(justSamples, 100)))
boxplot(tJustSamples)
tJustSamples <- log10(t(head(justSamples, 100)))
boxplot(tJustSamples)
?boxplot
tJustSamples <- log10(t(head(justSamples, 100)))
boxplot(tJustSamples, main = "What do the first 100 rows look like?",
ylab = "Log base 10 of the intensity values", xlab="Row number",
horizontal=T)
tJustSamples <- log10(t(head(justSamples, 100)))
boxplot(tJustSamples, main = "What do the first 100 rows look like?",
ylab = "Log base 10 of the intensity values", xlab="Row number",
horizontal=T, ylim=c(100,0))
tJustSamples <- log10(t(head(justSamples, 100)))
boxplot(tJustSamples, main = "What do the first 100 rows look like?",
ylab = "Log base 10 of the intensity values", xlab="Row number",
horizontal=T, xlim=c(100,0))
tJustSamples <- log10(t(head(justSamples, 100)))
boxplot(tJustSamples, main = "What do the first 100 rows look like?",
xlab = "Log base 10 of the intensity values", ylab="Row number",
horizontal=T, xlim=c(100,0))
tJustSamples <- log10(t(head(justSamples, 100)))
boxplot(tJustSamples, main = "What do the first 100 rows look like?",
xlab = "Log base 10 of the intensity values", ylab="Row number",
horizontal=T, xlim=c(100,0), las=1, outcol="red", col="grey90")
tJustSamples <- log10(t(head(justSamples, 100)))
boxplot(tJustSamples, main = "What do the first 100 rows look like?",
xlab = "Log base 10 of the intensity values", ylab="Row number",
horizontal=T, xlim=c(100,0), las=1, outcol="red", col="grey90")
head(tJustSamples)
tJustSamples <- log10(t(head(justSamples, 100)))
rownames(tJustSamples) <- simpleLOBdata$Lipid_Compound[1:100]
rownames(tJustSamples)
colnames(tJustSamples) <- simpleLOBdata$Lipid_Compound[1:100]
boxplot(tJustSamples, main = "What do the first 100 rows look like?",
xlab = "Log base 10 of the intensity values", ylab="Row number",
horizontal=T, xlim=c(100,0), las=1, outcol="red", col="grey90")
tJustSamples <- log10(t(head(justSamples, 100)))
colnames(tJustSamples) <- simpleLOBdata$Lipid_Compound[1:100]
boxplot(tJustSamples, main = "What do the first 100 rows look like?",
xlab = "Log base 10 of the intensity values", ylab="Row number",
horizontal=T, xlim=c(100,0), las=1, outcol="red", col="grey90")
tJustSamples <- log10(t(head(justSamples, 100)))
colnames(tJustSamples) <- simpleLOBdata$Lipid_Compound[1:100]
boxplot(tJustSamples, main = "What do the first 100 rows look like?",
xlab = "Log base 10 of the intensity values", ylab="Row number",
horizontal=T, xlim=c(100,0), las=1, outcol="red", col="grey90")
tJustSamples <- log10(t(head(justSamples, 100)))
colnames(tJustSamples) <- simpleLOBdata$Lipid_Compound[1:100]
boxplot(tJustSamples, main = "What do the first 100 rows look like?",
xlab = "Log base 10 of the intensity values", ylab="Row number",
horizontal=T, xlim=c(100,0), las=1, outcol="red", col="grey90")
par(mar)
par(mar())
par(mar=c(5.1, 8.1, 2.1, 2.1))
tJustSamples <- log10(t(head(justSamples, 100)))
colnames(tJustSamples) <- simpleLOBdata$Lipid_Compound[1:100]
boxplot(tJustSamples, main = "What do the first 100 rows look like?",
xlab = "Log base 10 of the intensity values", ylab="Row number",
horizontal=T, xlim=c(100,0), las=1, outcol="red", col="grey90")
par(mar=c(5.1, 10.1, 2.1, 2.1))
tJustSamples <- log10(t(head(justSamples, 100)))
colnames(tJustSamples) <- simpleLOBdata$Lipid_Compound[1:100]
boxplot(tJustSamples, main = "What do the first 100 rows look like?",
xlab = "Log base 10 of the intensity values", ylab="Row number",
horizontal=T, xlim=c(100,0), las=1, outcol="red", col="grey90")
par(mar=c(5.1, 10.1, 2.1, 2.1))
tJustSamples <- log10(t(head(justSamples, 100)))
colnames(tJustSamples) <- simpleLOBdata$Lipid_Compound[1:100]
boxplot(tJustSamples, main = "What do the first 100 rows look like?",
xlab = "Log base 10 of the intensity values", ylab="",
horizontal=T, xlim=c(100,0), las=1, outcol="red", col="grey90")
library(dplyr)
library(ggplot)
#Read in the data
LOBdata <- read.csv("~/Desktop/LOBsetPos.csv")
View(LOBdata)
names(LOBdata)
View(LOBdata)
# Get rid of low-confidence compounds
##Make a new column with the sum of the first three "C" columns
LOBdata <- mutate(LOBdata, "ConfInt"=sum(C1, C1x, C2a))
#Read in the data
LOBdata <- read.csv("~/Desktop/LOBsetPos.csv")
# Get rid of low-confidence compounds
##Make a new column with the sum of the first three "C" columns
LOBdata <- mutate(LOBdata, "ConfInt"=sum(C1, C1x, C2a))
View(LOBdata)
sum ("a", "b")
sum ("2", "3")
# Get rid of low-confidence compounds
##Make a new column with the sum of the first three "C" columns
LOBdata <- mutate(LOBdata, ConfInt=sum(C1, C1x, C2a))
# Get rid of low-confidence compounds
##Make a new column with the sum of the first three "C" columns
LOBdata <- mutate(LOBdata, ConfInt=sum("C1", "C1x", "C2a"))
# Get rid of low-confidence compounds
##Make a new column with the sum of the first three "C" columns
#LOBdata <- mutate(LOBdata, ConfInt=sum(C1, C1x, C2a))
LOBdata <- filter(LOBdata, C1==1)
#Read in the data
LOBdata <- read.csv("~/Desktop/LOBsetPos.csv")
# Get rid of low-confidence compounds
##Make a new column with the sum of the first three "C" columns
#LOBdata <- mutate(LOBdata, ConfInt=sum(C1, C1x, C2a))
LOBdata <- filter(LOBdata, C1==1)
View(LOBdata)
?mutate
# Get rid of low-confidence compounds
##Make a new column with the sum of the first three "C" columns
LOBdata <- mutate(LOBdata, ConfInt=sum(C1))
View(LOBdata)
LOBdata <- filter(LOBdata, C1==1 || C1x==1 || C2a==1)
#Read in the data
LOBdata <- read.csv("~/Desktop/LOBsetPos.csv")
LOBdata <- filter(LOBdata, C1==1 || C1x==1 || C2a==1)
# Get rid of low-confidence compounds
##Make a new column with the sum of the first three "C" columns
ConfVals <- select(LOBdata, c(C1, C1x, C2a))
#Read in the data
LOBdata <- read.csv("~/Desktop/LOBsetPos.csv")
# Get rid of low-confidence compounds
##Make a new column with the sum of the first three "C" columns
ConfVals <- select(LOBdata, c(C1, C1x, C2a))
View(ConfVals)
LOBRowSums <- rowSums(ConfVals)
LOBdata$ConfVals <- LOBRowSums
View(LOBdata)
LOBdata <- filter(LOBdata, ConfVals==1)
names(LOBdata)
sumLOBdata <- select(LOBdata, 12:29)
View(sumLOBdata)
LOBRowSums <- rowSums(sumLOBdata)
LOBdata$HowMuch <- LOBRowSums
group_by(LOBdata, lipid_class)
summarize(group_by(LOBdata, lipid_class), "ClassSum"=sum(HowMuch))
LOBdata %>%
group_by(., lipid_class) %>%
summarize(., "ClassSum"=sum(HowMuch))
classLOBdata <- LOBdata %>%
group_by(., lipid_class) %>%
summarize(., "ClassSum"=sum(HowMuch))
barplot(classLOBdata$ClassSum)
ggplot() + geom_bar(data = classLOBdata, aes(y=ClassSum))
library(ggplot2)
ggplot() + geom_bar(data = classLOBdata, aes(y=ClassSum))
ggplot() + geom_bar(data = classLOBdata, aes(y=ClassSum), stat = "identity")
ggplot() + geom_bar(data = classLOBdata,
aes(x=1:9, y=ClassSum), stat = "identity")
classLOBdata <- LOBdata %>%
group_by(., lipid_class, species) %>%
summarize(., "ClassSum"=sum(HowMuch))
View(classLOBdata)
barplot(classLOBdata$ClassSum)
ggplot() +
geom_bar(data = classLOBdata,
aes(x=1:9, y=ClassSum), stat = "identity") +
facet_wrap(~species)
View(classLOBdata)
ggplot() +
geom_bar(data = classLOBdata,
aes(x=1:44, y=ClassSum), stat = "identity") +
facet_wrap(~species)
ggplot() +
geom_bar(data = classLOBdata,
aes(y=ClassSum), stat = "identity") +
facet_wrap(~species)
View(classLOBdata)
ggplot() +
geom_point(data = classLOBdata,
aes(x=lipid_class y=ClassSum), stat = "identity") +
facet_wrap(~species)
ggplot() +
geom_point(data = classLOBdata,
aes(x=lipid_class, y=ClassSum), stat = "identity") +
facet_wrap(~species)
ggplot() +
geom_point(data = classLOBdata,
aes(x=species, y=ClassSum), stat = "identity") +
facet_wrap(~lipid_class)
ggplot() +
geom_bar(data = classLOBdata,
aes(x=species, y=ClassSum), stat = "identity") +
facet_wrap(~lipid_class)
ggplot() +
geom_bar(data = classLOBdata,
aes(x=species, y=ClassSum))#, stat = "identity") +
ggplot() +
geom_bar(data = classLOBdata,
aes(x=species, y=ClassSum), stat = "identity") +
facet_wrap(~lipid_class)
ggplot() +
geom_bar(data = classLOBdata,
aes(x=species, y=ClassSum), stat = "identity") +
facet_wrap(~lipid_class, scales = "free")
barplot(LOBdata$ConfVals)
ConfVals <- select(LOBdata, c(C1, C1x, C2a))
LOBRowSums <- rowSums(ConfVals)
LOBdata$ConfVals <- LOBRowSums
barplot(LOBdata$ConfVals)
barplot(classLOBdata$)
barplot(classLOBdata$ClassSum)
barplot(classLOBdata$ClassSum, names.arg = classLOBdata$lipid_class)
classLOBdata <- LOBdata %>%
group_by(., lipid_class) %>%
summarize(., "ClassSum"=sum(HowMuch))
barplot(classLOBdata$ClassSum, names.arg = classLOBdata$lipid_class)
barplot(classLOBdata$ClassSum, names.arg = classLOBdata$lipid_class, las=3)
View(classLOBdata)
names(LOBdata)
ggplot() + geom_point(aes(LOBdata, x=peakgroup_rt, y=peakgroup_mz, color=lipid_class))
ggplot() +
geom_point(aes(LOBdata, x="peakgroup_rt", y="peakgroup_mz", color="lipid_class"))
ggplot() +
geom_point(data=LOBdata, aes(x=peakgroup_rt, y=peakgroup_mz, color=lipid_class))
ggplot() +
geom_point(data=LOBdata, aes(x=peakgroup_rt, y=peakgroup_mz, color=species)) +
facet_wrap(~lipid_class)
classLOBdata <- LOBdata %>%
group_by(., lipid_class, species) %>%
summarize(., "ClassSum"=sum(HowMuch))
setwd("~/Desktop/Elab/Github Things/SavioBridge/")
setwd("~/../Desktop/Elab/Github Things/SavioBridge/")
setwd("~/Desktop")
ls
setwd("Elab")
setwd("Github Things")
setwd("~/../Desktop/Elab/GitHub Things/SavioBridge/")
setwd("GitHub Things")
setwd("~/Desktop/Elab/GitHub Things/SavioBridge/")
list.files()
setwd("~/Desktop/Elab/GitHub Things/SavioBridge/DYEatoms")
list.files()
read.csv("LOBset_Pos.csv")
LOBset <- read.csv("LOBset_Pos.csv")
#Grab only the columns we want: RT, m/z, compound name, lipid species, lipid class, sample number
#And save it as a new variable "simple_LOBset"
sample_cols <- grep("Orbi", names(LOBset))
cols_to_keep <- c(
"peakgroup_mz",
"peakgroup_rt",
"compound_name",
"species",
"lipid_class",
sample_cols
)
#Grab only the columns we want: RT, m/z, compound name, lipid species, lipid class, sample number
#And save it as a new variable "simple_LOBset"
sample_cols <- grep("Orbi", names(LOBset), value = T)
cols_to_keep <- c(
"peakgroup_mz",
"peakgroup_rt",
"compound_name",
"species",
"lipid_class",
sample_cols
)
#Grab all the column names that have "Orbi" in them
col_names <- names(LOBset)
sample_cols <- grep("Orbi", col_names, value = T)
#Make a vector with all the column names in it
cols_to_keep <- c(
"peakgroup_mz",
"peakgroup_rt",
"compound_name",
"species",
"lipid_class",
sample_cols
)
#And grab them
simple_LOBset <- select(LOBdata, cols_to_keep)
# Step 0: Load useful libraries
library(dplyr)
#And grab them
simple_LOBset <- select(LOBdata, cols_to_keep)
#And grab them
simple_LOBset <- select(LOBset, cols_to_keep)
#Make sure we got what we expected
head(simple_LOBset)
#Rename the first 5 columns to something more descriptive
names(simple_LOBset)[1:5] <- c("m/z", "RT", "compound_name", "lipid_species", "lipid_class")
head(simple_LOBset)
library(reshape2)
# Step 3: Put the data in long format
long_LOBset <- melt(simple_LOBset, id=c("m/z", "RT", "compound_name", "lipid_species", "lipid_class"))
head(long_LOBset)
# Step 3: Put the data in long format
long_LOBset <- melt(simple_LOBset, id=c("m/z", "RT", "compound_name", "lipid_species", "lipid_class"),
value.name = "intensity", variable.name = "sample")
head(long_LOBset)
#Check that we got what we wanted
head(long_LOBset)
source('~/.active-rstudio-document', echo=TRUE)
#Make a new column called "treatment"
treatments <- c("Control", "+NP", "+NPSi")
num_compounds <- dim(LOBset)[2]
num_compounds <- dim(LOBset)[1]
treatment_col <- c(rep(treatments[1], num_compound*2),
rep(treatments[2], num_compound*3),
rep(treatments[3], num_compound*3))
num_compounds <- dim(LOBset)[1]
treatment_col <- c(rep(treatments[1], num_compounds*2),
rep(treatments[2], num_compounds*3),
rep(treatments[3], num_compounds*3))
complete_LOBset <- mutate(long_LOBset, treatment_col)
head(complete_LOBset)
filter(complete_LOBset, sample=="Orbi_1130")
filter(complete_LOBset, sample=="Orbi_1131")
# Final step: Write out the data as a new csv file "Clean_LOBset_Pos.csv" ----
write.csv(complete_LOBset, file = "Clean_LOBset_Pos.csv")
#Make a new column called "treatment"
treatments <- c("Control", "Control", "+NP", "+NP", "+NP", "+NPSi", "+NPSi", "+NPSi")
num_compounds <- dim(LOBset)[1]
#Make a new column called "treatment"
#The first two samples are controls (1129 and 1130), the next 3 are +NP,
treatments <- c("Control", "Control", "+NP", "+NP", "+NP", "+NPSi", "+NPSi", "+NPSi")
num_compounds <- dim(LOBset)[1]
treatment_col <- rep(treatments, each=num_compounds)
complete_LOBset <- mutate(long_LOBset, treatment_col)
data <- read.csv("Clean_LOBset_Pos.csv")
head(data)
FAs <- filter(data, lipid_species == "FA")
FAs
FAs <- filter(data, lipid_class == "FA")
View(long_LOBset)
PUAs <- filter(data, lipid_class == "PUA")
head(PUAs)
View(PUAs)
library(ggplot2)
ggplot(data = data) + geom_point(aes(x=RT, y=m.z, color=lipid_class))
ggplot(data = data) + geom_point(aes(x=RT, y=m.z, color=lipid_class))
clean_data <- filter(data, !is.na(lipid_class))
ggplot(data = data) + geom_point(aes(x=RT, y=m.z, color=lipid_class))
ggplot(data = clean_data) + geom_point(aes(x=RT, y=m.z, color=lipid_class))
